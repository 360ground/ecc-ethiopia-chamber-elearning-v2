<div class="card top-header container-fluid">
    <div class="row" *ngIf="service.missingProfileFields.length">
        <div class="col-xs-12 col-sm-12 col-md-2 col-lg-2"></div>
        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
            <p  *ngFor="let message of service.missingProfileFieldsMessage; let i = index">
                <ngb-alert [dismissible]="true" (closed)="closeMessage()">
                    <strong>Warning!</strong> 
                        {{ message }}
                </ngb-alert>
            </p>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-2 col-lg-2"></div>
    </div>

    <!-- caraouse container start -->
    <app-photo-slide></app-photo-slide>
    <!-- caraouse container end -->
    
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3"></div>
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
            <h1 class="header_title">Online courses</h1>
            <p class="header_subtitle">
                Discover a range of free learning content designed to help your business or in your career. You can learn by selecting individual modules, or dive right in and take an entire course end-to-end.
            </p>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3"></div>
    </div>

</div>


<div class="container" style="margin-top: 112px !important;">
    <div style="margin-top: 64px !important;">
        <div class="row">
            <div class="col-sm-12 col-md-1 col-lg-1">
                <div class="row" *ngIf="false">
                    <div class="col-sm-12 col-md-12 col-lg-12 mb-4 mb-4">
                        <h1 class="filter-header mb-4">CATEGORIES</h1>
                        <div style="color: gray; padding-left: 5px !important">
                            <span *ngFor="let categories of courseCategories; let i as index">
                                <mat-checkbox color="primary" class="example-margin" 
                                    (change)="setFilterCategories($event.checked,categories.id)">
                                    {{categories.name}}
                                </mat-checkbox>
                            </span>
                        </div>
                    </div>
                    <div class="col-sm-12 col-md-12 col-lg-12 mb-4 mb-4">
                        <h1 class="filter-header mb-4">FREE or WITH PAYMENT</h1>
                        <div style="color: gray; padding-left: 5px !important">
                            <p *ngFor="let option of paymentOptions">
                                <mat-checkbox color="primary" class="example-margin" 
                                    (change)="setFilterCategories($event.checked,option.value)">
                                    {{option.title|titlecase}}
                                </mat-checkbox>
                            </p>
                        </div>
                    </div>
                    <div class="col-sm-12 col-md-12 col-lg-12 mb-4 mb-4">
                        <h1 class="filter-header mb-4">CERTIFICATION</h1>
                        <div style="color: gray; padding-left: 5px !important">
                            <p *ngFor="let option of certificationOptions">
                                <mat-checkbox color="primary" class="example-margin" 
                                    (change)="setFilterCategories($event.checked,option.value)">
                                    {{option.title|titlecase}}
                                </mat-checkbox>
                            </p>
                        </div>
                    </div>
                    <div class="col-sm-12 col-md-12 col-lg-12 mb-4 mb-4">
                        <h1 class="filter-header mb-4">COURSE LENGTH</h1>
                        <div style="color: gray; padding-left: 5px !important">
                            <p *ngFor="let option of courseLengthOptions">
                                <mat-checkbox color="primary" class="example-margin" 
                                    (change)="setFilterCategories($event.checked,option.value)">
                                    {{option.title|titlecase}}
                                </mat-checkbox>
                            </p>
                        </div>
                    </div>
                    <div class="col-sm-12 col-md-12 col-lg-12 mb-4 mb-4">
                        <hr style="color: gray;" />
                        <p style="margin-top: 20px !important;">
                            <span type="button" style="color: #0d6efd;">
                                <mat-icon aria-hidden="false" aria-label="" style="margin-right: 10px;" fontIcon="refresh">
                                </mat-icon>
                            </span>
                            <span style="color: #0d6efd;">
                                Reset filters
                            </span>
                            <Button type="button" class="btn btn-primary"  
                            style="float: right; margin-right: 37px !important;">
                                Apply filters
                            </Button>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 col-md-11 col-lg-11 mb-4 mr-2">
                <div class="row mb-4">
                    <div class="col-sm-12 col-md-1 col-lg-1"></div>
                    <div class="col-sm-12 col-md-10 col-lg-10">
                        <form [formGroup]="formGroup">
                            <div class="row">
                                <div class="col-sm-12 col-md-10 col-lg-10 g-0">
                                    <input type="search" formControlName="courseTitle" class="form-control form-control-lg" placeholder="search" />
                                    <p *ngIf="formSubmitted && getControls('courseTitle').hasError('required')" class="error">
                                        <small> * required</small>
                                    </p>
                                    <!-- <p *ngIf="searcNotFoundhMessage">
                                        <span>
                                            {{ searcNotFoundhMessage }}
                                        </span>
                                    </p> -->
                                </div>

                                <div class="col-sm-12 col-md-2 col-lg-2">
                                    <button class="btn btn-primary btn-lg btn-block"  *ngIf="!showFilter" 
                                    (click)="searchCourses()" [disabled]="disable">
                                        <span *ngIf="disable">
                                            <i class='fa fa-spinner fa-spin fa-3x fa-fw' 
                                            style="margin-right: 10px !important; font-size: 24px !important;" aria-hidden="true"></i>
                                        </span>
                                        <span>
                                            Go
                                        </span>
                                    </button>

                                    <button class="btn btn-primary btn-lg btn-block" *ngIf="showFilter" (click)="clearFilter()">
                                        <span>
                                            <i class='fa fa-refresh' 
                                            style="margin-right: 10px !important; font-size: 24px !important;" aria-hidden="true"></i>
                                        </span>
                                        <span>
                                            Clear Filter
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </form>    
                    </div>
                    <div class="col-sm-12 col-md-1 col-lg-1"></div>

                </div>






                <p class="course-counter mb-4 wider"  *ngIf="courses.length">Results: {{ courses.length }} courses </p>
                <div class="row" *ngIf="courses.length">
                    <div class="col-sm-12 col-md-4 col-lg-4 mb-4 mr-2 course" *ngFor="let course of courses; let i = index">
                        <div class="card">
                            <img class="card-img-top" style="height: 220px !important;"
                                [ngStyle]="{'background-image': 'url(' + course.image_download_url + ')'}"
                                alt="" width="100%" height="30%">
    
                            <div class="card-body">
                                <h5 class="card-title">
                                    <a routerLink="/detail/{{course?.id}}/{{i}}" [state]="course" class="card-title-text">
                                        {{course?.name}}
                                    </a>
                                </h5>
                                <p class="mt-4" style="color: gray; font-size: 11px;">
                                    <span>
                                        <span><i class="icons1 fa fa-bars" aria-hidden="true"></i>
                                        </span>
                                        <span>Code : {{ course.course_code }}</span>
                                    </span>
    
                                    <span>
                                        <span><i class="icons1 fa fa-clock-o" aria-hidden="true"></i>
                                        </span>
                                        <span>Format : {{ course.course_format | uppercase }}</span>
                                    </span>
                                </p>
                                <p>
                                    <span style="float: right !important; color: #1a73e8 !important; margin-right: 13px; margin-top: 14px;">
                                        <a routerLink="/detail/{{course?.id}}/{{i}}" [state]="course">
                                            <mat-icon>arrow_forward</mat-icon>
                                        </a>     
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row" *ngIf="!isLoading && !courses.length">
        <h2 style="color: gray;
        font-weight: lighter;
        text-align: center;
        margin-top: -40px;
    ">{{ searcNotFoundhMessage ? '-- No courses found --' : '-- No courses available --' }}</h2>
    </div>
</div>